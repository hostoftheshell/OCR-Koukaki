document.addEventListener("DOMContentLoaded",()=>{new Swiper(".swiper-container",{speed:1e3,loop:!0,grabCursor:!0,autoplay:{delay:2500,disableOnInteraction:!1},effect:"coverflow",coverflowEffect:{rotate:50,stretch:0,depth:90,modifier:1,slideShadows:!1},centeredSlides:!1,breakpoints:{480:{slidesPerView:1,spaceBetween:40},699:{slidesPerView:3,spaceBetween:50}}})});let observerOptions={root:null,rootMargin:"0px",threshold:.1},observer=new IntersectionObserver(handleIntersect,observerOptions),elementsToObserve=document.querySelectorAll(".banner, .story, #characters, #place, #studio, .award-section");function handleIntersect(e,t){e.forEach(e=>{e.isIntersecting&&(console.log("Intersecting element:",e.target),animateEntry(e),t.unobserve(e.target))})}function animateEntry(e){animateSectionEntry(e),animateTitleEntry(e),animateLogoEntry(e)}function animateSectionEntry(t){t.target.classList.remove("hidden-opacity");var e=["banner","award-section"].some(e=>t.target.classList.contains(e))?"section__fade-in--down":"section__fade-in--up";t.target.classList.add(e)}function animateTitleEntry(e){var t=e.target.querySelectorAll("h2, h3");0===t.length?console.log("No h2 or h3 element found within the target:",e.target):t.forEach(o=>{let a=o.textContent.split(" ");o.textContent="",a.forEach((e,t)=>{let n=document.createElement("span");n.textContent=e,n.style.opacity=0,o.appendChild(n),t<a.length-1&&o.appendChild(document.createTextNode(" ")),setTimeout(()=>{n.classList.add("title__fade-in--up")},200*t)})})}function animateLogoEntry(e){e=e.target.querySelector(".banner__logo");e&&(e.classList.remove("hidden-opacity"),e.classList.add("banner__logo--animated"),console.log(e))}elementsToObserve.forEach(e=>observer.observe(e)),document.addEventListener("DOMContentLoaded",function(){{let o=document.querySelector(".place__big-cloud"),a=document.querySelector(".place__little-cloud"),e=document.querySelector("#place");function r(e,t){e.style.transform=`translateX(${t}px)`}window.addEventListener("scroll",function(){var t=e.offsetTop,n=window.scrollY||document.documentElement.scrollTop;if(t<=n){let e=Math.min((n-t)/5,300);requestAnimationFrame(()=>{r(o,-e),r(a,-e)})}})}}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".menu__button"),n=document.querySelector("#primary-menu");var e=document.querySelectorAll("#primary-menu a");function o(){n.classList.contains("menu-active")?(n.classList.add("menu-closing"),n.addEventListener("animationend",function(){n.classList.remove("menu-active"),n.classList.remove("menu-closing")},{once:!0})):n.classList.add("menu-active"),t.classList.toggle("menu-active");var e="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!e)}t.addEventListener("click",o),e.forEach(function(e){e.addEventListener("click",function(){n.classList.contains("menu-active")&&o()})})});
//# sourceMappingURL=main.js.map
